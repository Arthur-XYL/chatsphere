<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatSphere - Chat</title>
    <style>
        body {
            display: none;
        }
    </style>
    <link rel="icon" href="rsc/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="chat.css">
    <script src="rsc/DOMPurify.js"></script>
    <script src="chat.js" defer></script>
</head>

<body>

    <div class="chat-container">
        <aside class="icon-bar">
            <button class="icon-button" onclick="showChatContacts()"><img src="path_to_chat_icon.png"
                    alt="Chats"></button>
            <button class="icon-button" onclick="showAllContacts()"><img src="path_to_contacts_icon.png"
                    alt="Contacts"></button>
            <!-- ... add more icons here ... -->
            <button class="icon-button logout-button" id="logout-btn"><img src="path_to_logout_icon.png"
                    alt="Logout"></button>

        </aside>

        <!-- Left side: Contacts & Friend Requests List -->
        <aside class="contacts">
            <div class="controls">
                <button id="add-contact-btn">Add Contact</button>
                <button id="toggle-list-btn" data-showing="contacts">Friend Requests</button>

                <dialog id="addContactModal">
                    <h3>Add Contact</h3>
                    <input type="text" id="searchInput" placeholder="Search for user...">
                    <button id="add-contact-modal-search">Search</button>
                    <br /><br />
                    <p id="searchResult">Enter a name to search...</p>
                    <button id="add-contact-modal-cancel">Cancel</button>
                    <button id="add-contact-modal-submit">Add</button>
                </dialog>
            </div>

            <!-- Contacts List -->
            <div id="contacts-list-div">
                <header>
                    <h2>Contacts</h2>
                </header>

                <ul class="contact-list">
                    <!-- ... load contacts here ... -->
                </ul>
            </div>

            <!-- Friend Requests List -->
            <div id="friend-requests-div" style="display: none;">
                <header>
                    <h2>Friend Requests</h2>
                </header>
                
                <ul class="friend-requests-list">
                    <!-- This will be populated dynamically with incoming friend requests -->
                </ul>
            </div>
        </aside>

        <!-- Right side: Chat history -->
        <section class="chat">
            <header>
                <h2>John Doe</h2>
            </header>

            <div class="chat-history" id="chatHistory">
                <!-- Example chat messages -->
                <div class="message received">Hey! How are you?</div>
                <div class="message sent">I'm good, thanks! How about you?</div>
                <!-- ... add more messages dynamically here ... -->
            </div>

            <footer>
                <input type="text" id="chatInput" placeholder="Type a message...">
                <button onclick="sendMessage()">Send</button>
            </footer>
        </section>
    </div>
</body>

</html>